---
title: Presigned ссылка для загрузки файла
description: A reference page in my new Starlight docs site.
---

import { Code } from "@astrojs/starlight/components";
import { Aside } from "@astrojs/starlight/components";

С помощью подписанной ссылки можно безопасно загружать файлы с любого сайта и без авторизации!

Создать временную ссылку с кастомным путем.

export const code = `
# expirationIn - значение в секундах
/v1/sign/SECRET_CLIENT_TOKEN/CUSTOM_PATH_FOLDER?expirationIn=3600
`

<Code code={code} lang="sh" title="METHOD: GET" />

Вы получите ссылку, по ней методом **PUT** отправьте файл и он будет загружен в ваш бакет без авторизационного ключа.

```
// В ссылке зашифрован путь. Любое изменение ссылки приведет к неудачной загрузке.
// Поэтому она безопасна, для передачи третьим лицам

Пример подписанной ссылки:
https://api.defaultuploader.com/v1/upload/sign/huFtjXfdtfU8kzRB4roo2M  \
/4261209739480817x-params7cdc34f921f1a8703c979dc0224b3a83x-token62bb1d \
46ad31e402f4238a0ec4054a615bec5727dee08070bd9c2bbeb3f7c960dc0131eeefa9 \
1b5a2db01f40e86da32c706262cf87b48727c885f776efa4a80b/dfdfdf.sddsfdsfs/ \
dsfs.fdsf?expirationIn=3600
```

<Aside title="Упрощенный вариент интеграции">
  Вы можете не реализовывать передачу файла через свой бекенд-сервис.

  Сценарий будет выглядеть следующим образом:
  - Когда ваш клиент захочет загрузить файл, он делает запрос на ваш бекенд для получения ссылки.
  - Ваш бекенд запрашивает у сервиса Default Uploader подписанную ссылку с таймаутом в 1 минуту (?expirationIn=3600)
  и специальным путем — clinetid/folder.
  - Ваш бекенд передает полученную ссылку клиенту, клиент загружает файл в ваш бакет по этой ссылке в указанную папку.
</Aside>

<Aside title="Можно генерировать сколько угодно подписанных ссылок" type="tip">
  Но есть несколько ограничений:
  - Максимальная продолжительность: 604800 секунд (1 неделя)
  - Rate limit: 1000 ссылок в час (по запросу можно увеличить)
  - Допустимая длина ссылки: 300 символов
</Aside>
