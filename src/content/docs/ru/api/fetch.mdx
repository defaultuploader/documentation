---
title: Fetch
prev: false
editUrl: false
---

import {Aside, Code, Badge} from "@astrojs/starlight/components"

## Получение изображений по URL

Этот метод позволяет загрузить изображение с указанного URL и применить к нему необходимые трансформации (например, изменение размера, оптимизация и другие параметры).

### Использование

Укажите в URL запроса адрес удаленного файла и необходимые параметры.

Формат запроса:
```
GET /v1/image/fetch/{remote-file-url}
```

### Пример

Допустим, вам нужно загрузить изображение по адресу `https://hot-dogs.com/holy-pick.jpg` и уменьшить его ширину до 100 пикселей. Тогда запрос будет выглядеть так:

```
https://api.defaultuploader.com/v1/image/fetch/{CLIENT_TOKEN}/https://hot-dogs.com/holy-pick.jpg?w=100
```

### Ограничения

<Aside title="/fetch/{remote-file-url}">
  Rate-limit: 50 запросов в 5 секунд (по запросу можно увеличить).
</Aside>

## Сохранение загруженных файлов в S3 <Badge text="Coming soon" variant="tip" />

Вы можете настроить сохранение загруженных файлов в хранилище S3. Доступны два варианта:

1. **Включить авто-сохранение в настройках личного кабинета**: Все файлы, полученные через `/fetch`, будут автоматически сохраняться в вашем хранилище S3.
2. **Использовать отдельный эндпоинт**: Если авто-сохранение отключено, можно явно сохранить конкретный файл, используя эндпоинт `/fetch/keep`:

```
GET https://api.defaultuploader.com/v1/image/fetch/keep/{CLIENT_TOKEN}/https://hot-dogs.com/holy-pick.jpg?w=100
```

Этот подход позволяет гибко управлять тем, какие файлы должны сохраняться.